<div class="progress_bar
            {% if progress.state == "SUCCESS" %}progress-success{% endif %}
            {% if progress.state == "FAILURE" %}progress-failure{% endif %}"
     id="progress-bar"
     role="status"
     aria-live="polite"
     aria-atomic="true"
  {% if not progress.complete %}
     hx-get="{% url "enterpriseviz:refresh_progress" instance task_id %}"
     hx-trigger="every 5s"
     hx-target="this"
     hx-swap="outerHTML"
  {% else %}
     hx-trigger="none"
  {% endif %}>
  <div>
    <calcite-progress
      value="{{ value }}"
      type="determinate"
      label="{% if progress.state == 'SUCCESS' %}Refresh complete{% elif progress.state == 'FAILURE' %}Refresh failed{% else %}Refreshing portal data{% endif %}">
    </calcite-progress>
  </div>
</div>
