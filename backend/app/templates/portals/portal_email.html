<!-- Licensed under GPLv3 - See LICENSE file for details. -->
<calcite-dialog id="email-modal" modal heading="Configure Email Settings" scale="m" open
                {% if form.errors %}kind="danger"{% endif %}>

  <div id="email-form-container">
    {% include "partials/portal_email_form.html" %}
  </div>

  <calcite-button id="email-portal-delete" slot="footer-start" appearance="solid" kind="danger" icon-start="trash"
                  {% if not description %}disabled{% endif %}
                  hx-delete="{% url 'enterpriseviz:email_settings' %}"
                  hx-target="#email-portal-form" hx-include="#email-portal-form">
    Delete
  </calcite-button>

  <calcite-button id="email-portal-cancel" data-action="close-modal" slot="footer-end" appearance="outline" icon-start="circle-disallowed">
    Cancel
  </calcite-button>

  <calcite-button type="submit" name="action" value="save" id="email-portal-save" slot="footer-end"
                  hx-post="{% url 'enterpriseviz:email_settings' %}"
                  hx-target="#email-site-form" hx-swap="innerHTML"
                  hx-include="#email-site-form" hx-vals='{"action": "save"}'
                  icon-start="save">
    Register
  </calcite-button>

</calcite-dialog>
